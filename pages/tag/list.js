"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../../request/index");
Page({
    data: {
        tags: []
    },
    onShow: function () {
        this.loadData();
    },
    loadData: function () {
        var _this = this;
        wx.showLoading({ title: '加载中' });
        index_1.get('/tags?tag_type=cargo_category').then(function (res) {
            wx.hideLoading();
            res.data.forEach(function (e) {
                e.value = JSON.parse(e.value);
                e.valueStr = e.value.join(' / ');
            });
            _this.setData({ tags: res.data });
        }).catch(function () {
            wx.hideLoading();
        });
    },
    onItemTap: function (e) {
        var id = e.currentTarget.dataset.id;
        wx.navigateTo({ url: "/pages/tag/form?id=" + id });
    },
    addTag: function () {
        wx.navigateTo({ url: '/pages/tag/form' });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxpc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBeUM7QUFFekMsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBQ0osSUFBSSxFQUFFLEVBQUU7S0FDVDtJQUVELE1BQU07UUFDSixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDakIsQ0FBQztJQUVELFFBQVEsRUFBUjtRQUFBLGlCQVlDO1FBWEMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFBO1FBQ2hDLFdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEdBQUc7WUFDM0MsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ2hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQUMsQ0FBTTtnQkFDdEIsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtnQkFDN0IsQ0FBQyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNsQyxDQUFDLENBQUMsQ0FBQTtZQUNGLEtBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFDbEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQ1AsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFBO1FBQ2xCLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELFNBQVMsRUFBVCxVQUFVLENBQU07UUFDTixJQUFBLEVBQUUsR0FBSyxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sR0FBNUIsQ0FBNEI7UUFDdEMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsRUFBRSx3QkFBc0IsRUFBSSxFQUFFLENBQUMsQ0FBQTtJQUNwRCxDQUFDO0lBRUQsTUFBTTtRQUNKLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQyxDQUFBO0lBQzNDLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi9yZXF1ZXN0L2luZGV4J1xuXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIHRhZ3M6IFtdXG4gIH0sXG5cbiAgb25TaG93KCkge1xuICAgIHRoaXMubG9hZERhdGEoKVxuICB9LFxuXG4gIGxvYWREYXRhKCkge1xuICAgIHd4LnNob3dMb2FkaW5nKHsgdGl0bGU6ICfliqDovb3kuK0nIH0pXG4gICAgZ2V0KCcvdGFncz90YWdfdHlwZT1jYXJnb19jYXRlZ29yeScpLnRoZW4ocmVzID0+IHtcbiAgICAgIHd4LmhpZGVMb2FkaW5nKClcbiAgICAgIHJlcy5kYXRhLmZvckVhY2goKGU6IGFueSkgPT4ge1xuICAgICAgICBlLnZhbHVlID0gSlNPTi5wYXJzZShlLnZhbHVlKVxuICAgICAgICBlLnZhbHVlU3RyID0gZS52YWx1ZS5qb2luKCcgLyAnKVxuICAgICAgfSlcbiAgICAgIHRoaXMuc2V0RGF0YSh7IHRhZ3M6IHJlcy5kYXRhIH0pXG4gICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgd3guaGlkZUxvYWRpbmcoKVxuICAgIH0pXG4gIH0sXG5cbiAgb25JdGVtVGFwKGU6IGFueSkge1xuICAgIGNvbnN0IHsgaWQgfSA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0XG4gICAgd3gubmF2aWdhdGVUbyh7IHVybDogYC9wYWdlcy90YWcvZm9ybT9pZD0ke2lkfWAgfSlcbiAgfSxcblxuICBhZGRUYWcoKSB7XG4gICAgd3gubmF2aWdhdGVUbyh7IHVybDogJy9wYWdlcy90YWcvZm9ybScgfSlcbiAgfVxufSlcbiJdfQ==